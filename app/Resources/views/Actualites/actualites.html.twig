{% extends "layout.html.twig" %}
{% block content %}

    <div class="row">
        <ul>
            {% for article in listArticles %}
                <div class="col-md-10">
                    <h1>
                        <a href="{{ path('view_article', {'slug': article.slug}) }}">
                            {{ article.title }}
                        </a></h1>
                    <h5><span class="metadata"><i class="fa fa-calendar"></i>{{ article.date|date('d/m/Y à  à H:i') }}</span>
                    </h5>
                    <p>
                        {% if article.image is not null %}
                            <img style="width:150px; float: right; margin-bottom: 20px;" src="{{ asset(article.image) }}"/>
                        {% endif %}
                        {{ article.content | resume(constant('NUM_WORDS', article)) }}...

                    </p>
                    <p><a class="btn btn-default pull-left" id="lire" href="{{ path('view_article', {'slug': article.slug})}}" role="button">Lire l'article</a></p>
                </div>
            {% else %}
                <li>Pas (encore !) d'articles</li>
            {% endfor %}
        </ul>
    </div>
    <div class="row text-center">

        <ul class="pagination">

            <li><a href="{% if page > 1 %}{{ path('actualites_paginated', {'page': page - 1}) }}{% endif %}"> &lang; </a>
            </li>
            {% for p in range(1, nbPages) %}
                <li{% if p == page %} class="active"{% endif %}>
                    <a href="{{ path('actualites_paginated', {'page': p}) }}">{{ p }}</a>
                </li>
            {% endfor %}
            <li>
                <a href="{% if page < nbPages %}{{ path('actualites_paginated', {'page': page + 1}) }}{% endif %}">
                    &rang; </a>
            </li>


        </ul>
    </div>


{% endblock %}
